<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>SmartHouse</title>
  <style>
    /* CSS básico para layout */
    body { font-family: Arial, sans-serif; margin: 20px; background: #f0f0f0; }
    h2 { margin-top: 40px; }
    .ambiente { background: #fff; padding: 15px; border-radius: 8px; margin-bottom: 30px; box-shadow: 0 0 8px #ccc;}
    button, label { margin: 5px 10px 5px 0; }
    .status { font-weight: bold; margin-left: 10px; }
  </style>
</head>
<body>

  <!-- AMBIENTE 1: Garagem -->
  <div class="ambiente" id="garagem">
    <h2>Garagem</h2>
    <button id="portaoSocialBtn">Abrir Portão Social</button>
    <button id="portaoBasculanteBtn">Abrir Portão Basculante</button>
    <label>
      <input type="checkbox" id="luzGaragemSwitch" />
      Luz da Garagem
    </label>
    <div>Status Portão Social: <span id="statusPortaoSocial">Fechado</span></div>
    <div>Status Portão Basculante: <span id="statusPortaoBasculante">Fechado</span></div>
    <div>Status Luz: <span id="statusLuzGaragem">Desligada</span></div>
  </div>

  <!-- AMBIENTE 2: Sala -->
  <div class="ambiente" id="sala">
    <h2>Sala de Estar</h2>
    <label>
      <input type="checkbox" id="luzSalaSwitch" />
      Luz da Sala
    </label>
    <label>
      <input type="checkbox" id="arCondicionadoSwitch" />
      Ar-condicionado
    </label>
    <label>
      <input type="checkbox" id="umidificadorSwitch" />
      Umidificador
    </label>
    <div>Temperatura: <span id="tempSala">25</span> °C</div>
    <div>Umidade: <span id="umidadeSala">50</span> %</div>
  </div>

  <!-- AMBIENTE 3: Quarto -->
  <div class="ambiente" id="quarto">
    <h2>Quarto</h2>
    <button id="abrirCortinaBtn">Abrir Cortina</button>
    <button id="fecharCortinaBtn">Fechar Cortina</button>
    <label>
      <input type="checkbox" id="luzQuartoSwitch" />
      Luz do Quarto
    </label>
    <label>
      <input type="checkbox" id="tomadaSwitch" />
      Tomada Inteligente
    </label>
  </div>

  <script>
    // JS básico para simular funcionalidades

    // --- Garagem ---
    const portaoSocialBtn = document.getElementById('portaoSocialBtn');
    const portaoBasculanteBtn = document.getElementById('portaoBasculanteBtn');
    const luzGaragemSwitch = document.getElementById('luzGaragemSwitch');

    const statusPortaoSocial = document.getElementById('statusPortaoSocial');
    const statusPortaoBasculante = document.getElementById('statusPortaoBasculante');
    const statusLuzGaragem = document.getElementById('statusLuzGaragem');

    let portaoSocialAberto = false;
    let portaoBasculanteAberto = false;
    let luzGaragemLigada = false;
    let pirDetectado = false;

    // Função para ligar/desligar luz garagem e atualizar status
    function setLuzGaragem(on) {
      luzGaragemLigada = on;
      luzGaragemSwitch.checked = on;
      statusLuzGaragem.textContent = on ? 'Ligada' : 'Desligada';
    }

    // Portão Social
    portaoSocialBtn.addEventListener('click', () => {
      if (!portaoSocialAberto) {
        portaoSocialAberto = true;
        statusPortaoSocial.textContent = 'Aberto';
        setLuzGaragem(true);

        // Após 5 segundos, fechar portão e apagar luz
        setTimeout(() => {
          portaoSocialAberto = false;
          statusPortaoSocial.textContent = 'Fechado';
          setLuzGaragem(false);
        }, 5000);

      }
    });

    // Portão Basculante
    portaoBasculanteBtn.addEventListener('click', () => {
      if (!portaoBasculanteAberto) {
        portaoBasculanteAberto = true;
        statusPortaoBasculante.textContent = 'Aberto';
        setLuzGaragem(true);
      } else {
        portaoBasculanteAberto = false;
        statusPortaoBasculante.textContent = 'Fechado';
        setLuzGaragem(false);
      }
    });

    // Interruptor luz garagem manual
    luzGaragemSwitch.addEventListener('change', () => {
      setLuzGaragem(luzGaragemSwitch.checked);
    });

    // Simulação Sensor PIR: detecta movimento a cada 15s para exemplo
    setInterval(() => {
      pirDetectado = true;
      setLuzGaragem(true);
      // após 5 segundos desligar luz
      setTimeout(() => {
        pirDetectado = false;
        if (!portaoSocialAberto && !portaoBasculanteAberto) {
          setLuzGaragem(false);
        }
      }, 5000);
    }, 15000);

    // --- Sala ---
    const luzSalaSwitch = document.getElementById('luzSalaSwitch');
    const arCondicionadoSwitch = document.getElementById('arCondicionadoSwitch');
    const umidificadorSwitch = document.getElementById('umidificadorSwitch');
    const tempSalaSpan = document.getElementById('tempSala');
    const umidadeSalaSpan = document.getElementById('umidadeSala');

    let temperaturaSala = 25;
    let umidadeSala = 50;

    // Controle automático temperatura/ar-condicionado
    function controleTemperatura() {
      if (temperaturaSala >= 28) {
        arCondicionadoSwitch.checked = true;
      } else if (temperaturaSala < 20) {
        arCondicionadoSwitch.checked = false;
      }
    }

    // Controle automático umidade/umidificador
    function controleUmidade() {
      if (umidadeSala <= 20) {
        umidificadorSwitch.checked = true;
      } else if (umidadeSala >= 80) {
        umidificadorSwitch.checked = false;
      }
    }

    // Atualiza temperatura e umidade (simulação)
    function atualizarSensoresSala() {
      // Exemplo: variação aleatória simples
      temperaturaSala += (Math.random() * 2 - 1).toFixed(1);
      temperaturaSala = Math.min(Math.max(temperaturaSala, 15), 35);
      umidadeSala += (Math.random() * 4 - 2).toFixed(1);
      umidadeSala = Math.min(Math.max(umidadeSala, 10), 90);

      tempSalaSpan.textContent = temperaturaSala.toFixed(1);
      umidadeSalaSpan.textContent = umidadeSala.toFixed(1);

      controleTemperatura();
      controleUmidade();
    }

    // Controle manual dos interruptores da sala
    luzSalaSwitch.addEventListener('change', () => { /* poderia ligar/desligar luz */ });
    arCondicionadoSwitch.addEventListener('change', () => { /* ligar/desligar ar-condicionado */ });
    umidificadorSwitch.addEventListener('change', () => { /* ligar/desligar umidificador */ });

    setInterval(atualizarSensoresSala, 3000);

    // --- Quarto ---
    const abrirCortinaBtn = document.getElementById('abrirCortinaBtn');
    const fecharCortinaBtn = document.getElementById('fecharCortinaBtn');
    const luzQuartoSwitch = document.getElementById('luzQuartoSwitch');
    const tomadaSwitch = document.getElementById('tomadaSwitch');

    abrirCortinaBtn.addEventListener('click', () => {
      alert('Cortina abrindo por 5 segundos (simulação)');
      // Aqui você pode implementar animação ou lógica para o motor
    });

    fecharCortinaBtn.addEventListener('click', () => {
      alert('Cortina fechando por 5 segundos (simulação)');
    });

    luzQuartoSwitch.addEventListener('change', () => { /* ligar/desligar luz quarto */ });
    tomadaSwitch.addEventListener('change', () => { /* ligar/desligar tomada */ });

  </script>

</body>
</html>
